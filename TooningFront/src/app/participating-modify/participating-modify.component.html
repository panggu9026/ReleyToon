<app-header></app-header>

<div class="container text-center">
    <form ngNoForm [action]="url" method="post" enctype="multipart/form-data">
        <span>게시글 수정하기</span>
        <div class="form__group field">
            <input class="form__field" placeholder="Name" type="text" id="title" name="title" maxlength="50" value="{{this.title}}" />
            <label for="Name" class="form__label">제목</label>
        </div>

        <div class="form__group field">
            <input class="form__field" placeholder="Name" type="text" id="writer" name="writer" maxlength="50"
                value="{{this.writer}}" disabled/>
            <label for="Name" class="form__label">아이디</label>
        </div>

        <div class="row form-floating" style="margin-top: 30px;">
            <textarea class="form-control" placeholder="Leave a comment here" id="contents" name="contents" rows="5" cols="70">{{this.content}}</textarea>
            <label class="form__label" for="floatingTextarea">작품설명</label>
        </div>
        <div class="form-group">
            <div class="col">
                <div class="row" style="margin-top: 30px;">
                    <!--파일 선택 버튼-->
                    <div class="col">
                    <label class="w-btn-outline" for="fileupload">
                        이미지 업로드
                      </label>
                    <input type="file" class="form-control-file" id="fileupload" name="fileupload" style="display:none"
                        (change)="onChange($event)" />
                    </div>
                    <!--이미지를 보이게 하는 곳-->
                    <div class="imgbox col">
                    <div *ngIf="img" class="card" style="width: 300px;">
                        <img [src]="img" class="card-img-top" alt="원본" />
                        <textarea class="col" cols="50" rows="50" id="base64" name="base64" [(ngModel)]="img"
                            hidden></textarea>
                    </div>
                </div>
                </div>
            </div>
        </div>

        <div class="row">
            <input class="col w-btn" type="submit" value="수정완료" />
            <input class="col w-btn" type="button" (click)="goToParticipantPage()" value="취소" />
        </div>
    </form>
</div>

<!-- <div class="test">
    <div>Post Id: {{postId}}</div>
    <img [src]="imgSource" />
</div> -->